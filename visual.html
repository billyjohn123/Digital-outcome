<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Visual - Maungaraki Lime</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="visual.html" class="active">Interactive Visual</a></li>
            <li><a href="about.html">About</a></li>
        </ul>
    </nav>

    <div class="content">
        <div class="container">
            <h1>Interactive Soil Visualization</h1>
            <h2>Watch Soil Transform with Lime Treatment</h2>
            
            <!-- Main soil container for interactive features -->
            <div id="soilContainer" class="soil-container">
                <div class="stage-info">
                    <h3>5-Stage Soil Transformation Process</h3>
                    <p>See how Maungaraki Lime transforms acidic soil into healthy, productive earth</p>
                </div>
                
                <!-- Soil stages preview - will become interactive in next commits -->
                <div class="stages-preview">
                    <div class="stage" id="stage1">
                        <h4>Stage 1</h4>
                        <p>Poor acidic soil (pH 4.5)</p>
                    </div>
                    <div class="stage" id="stage2">
                        <h4>Stage 2</h4>
                        <p>Lime application begins</p>
                    </div>
                    <div class="stage" id="stage3">
                        <h4>Stage 3</h4>
                        <p>pH starts balancing (pH 5.5)</p>
                    </div>
                    <div class="stage" id="stage4">
                        <h4>Stage 4</h4>
                        <p>Enhanced nutrients (pH 6.2)</p>
                    </div>
                    <div class="stage" id="stage5">
                        <h4>Stage 5</h4>
                        <p>Healthy soil (pH 6.8)</p>
                    </div>
                </div>
                
                <!-- Interactive Controls -->
                <div class="controls">
                    <button id="nextStageBtn" onclick="nextStage()">Next Stage →</button>
                    <button id="resetBtn" onclick="resetStages()">Reset</button>
                    <p class="stage-indicator">Current Stage: <span id="currentStage">1</span></p>
                </div>
            </div>
            
            <div class="explanation">
                <h3>Understanding the Process</h3>
                <p>This interactive visualization will show you exactly how lime application transforms soil over time. Each stage represents weeks to months of natural soil improvement.</p>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Maungaraki Lime - Commit #5: Added interactive button with JS</p>
    </footer>

    <script>
        // Current stage tracker
        let currentStageNum = 1;
        const maxStages = 5;

        // Function to go to next stage
        function nextStage() {
            if (currentStageNum < maxStages) {
                // Remove active class from current stage
                document.getElementById(`stage${currentStageNum}`).classList.remove('active');
                
                // Move to next stage
                currentStageNum++;
                
                // Add active class to new stage
                document.getElementById(`stage${currentStageNum}`).classList.add('active');
                
                // Update stage indicator
                document.getElementById('currentStage').textContent = currentStageNum;
                
                // Disable button if we've reached the last stage
                if (currentStageNum >= maxStages) {
                    document.getElementById('nextStageBtn').disabled = true;
                    document.getElementById('nextStageBtn').textContent = 'Complete!';
                }
            }
        }

        // Function to reset to stage 1
        function resetStages() {
            // Remove active class from all stages
            for (let i = 1; i <= maxStages; i++) {
                document.getElementById(`stage${i}`).classList.remove('active');
            }
            
            // Reset to stage 1
            currentStageNum = 1;
            document.getElementById(`stage${currentStageNum}`).classList.add('active');
            document.getElementById('currentStage').textContent = currentStageNum;
            
            // Re-enable next button
            document.getElementById('nextStageBtn').disabled = false;
            document.getElementById('nextStageBtn').textContent = 'Next Stage →';
        }

        // Initialize - set stage 1 when page loads
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('stage1').classList.add('active');
        });
    </script>
</body>
</html>